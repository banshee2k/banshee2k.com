{% extends 'layouts/main.html' %}
{% block title %}Standings{% endblock %}

{% block css %}
<link href="https://unpkg.com/bootstrap-table@1.20.2/dist/extensions/group-by-v2/bootstrap-table-group-by.css" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.20.2/dist/bootstrap-table.min.css">
{% endblock %}

{% block content %}
<div class="flex-xl-nowrap mx-auto px-4 py-3">
    <h1 class="text-center">Standings</h1>
    <ul class="nav nav-tabs mb-4">
        <li class="nav-item">
            <a class="nav-link active" id="nav-overall-tab" data-bs-toggle="tab" data-bs-target="#nav-overall" type="button" role="tab" aria-controls="nav-overall" aria-selected="true">Overall</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-groups" type="button" role="tab" aria-controls="nav-groups" aria-selected="false">By Group</a>
        </li>
    </ul>
    <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="nav-overall" role="tabpanel" aria-labelledby="nav-overal-tab">
            <div class="table-responsive">
                <table class="table table-striped table-bordered mt-0">
                    <thead>
                    <tr>
                        <th scope="col">Team</th>
                        <th scope="col">Group</th>
                        <th scope="col">W</th>
                        <th scope="col">L</th>
                        <th scope="col">PCT</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for row in overall %}
                    <tr>
                        <td><img src="/static/img/logos/{{ row['Team'] }}.svg" width="20px"/> {{ row['Team'] }}</td>
                        <td>{{ row['Group'] }}</td>
                        <td>{{ row['W'] }}</td>
                        <td>{{ row['L'] }}</td>
                        <td>{{ '%0.2f' | format(row['PCT']) }}</td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        <div class="tab-pane fade pb-2" id="nav-groups" role="tabpanel" aria-labelledby="nav-groups-tab">
            <div class="table-responsive">
                <table id="groups" class="table table-striped mt-0"
                        data-toggle="table"
                        data-group-by="true"
                        data-group-by-field="Group">
                    <thead>
                    <tr>
                        <th scope="col">Team</th>
                        <th scope="col" data-field="Group">Group</th>
                        <th scope="col">W</th>
                        <th scope="col">L</th>
                        <th scope="col">PCT</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for row in overall %}
                    <tr>
                        <td><img src="/static/img/logos/{{ row['Team'] }}.svg" width="20px"/> {{ row['Team'] }}</td>
                        <td>{{ row['Group'] }}</td>
                        <td>{{ row['W'] }}</td>
                        <td>{{ row['L'] }}</td>
                        <td>{{ '%0.2f' | format(row['PCT']) }}</td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
 </div>
{% endblock %}

{% block js %}
<script src="https://unpkg.com/bootstrap-table@1.20.2/dist/bootstrap-table.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.20.2/dist/extensions/group-by-v2/bootstrap-table-group-by.min.js"></script>
{% endblock %}
